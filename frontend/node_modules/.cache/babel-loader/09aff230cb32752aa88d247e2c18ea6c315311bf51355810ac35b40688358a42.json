{"ast":null,"code":"import axiosInstance from \"./utils/axios\";\n\n// API call for sign-in (login)\nexport const login = async (email, password) => {\n  try {\n    const response = await axiosInstance.post(\"/auth/signin\", {\n      email,\n      password\n    });\n    return response.data;\n  } catch (error) {\n    throw error.response ? error.response.data : \"An error occurred while logging in\";\n  }\n};\n\n// API call for sign-up (register)\nexport const signup = async (name, email, password) => {\n  try {\n    const response = await axiosInstance.post(\"/auth/signup\", {\n      name,\n      email,\n      password\n    });\n    return response.data;\n  } catch (error) {\n    throw error.response ? error.response.data : \"An error occurred during sign-up\";\n  }\n};\n\n// API call for sending OTP for password reset\nexport const sendOtpForPasswordReset = async email => {\n  try {\n    const response = await axiosInstance.post(\"/auth/forgot-password\", {\n      email\n    });\n    return response.data;\n  } catch (error) {\n    throw error.response ? error.response.data : \"An error occurred while sending OTP\";\n  }\n};\n\n// API call to verify OTP and reset password\nexport const verifyOtpAndResetPassword = async (email, otp, newPassword) => {\n  try {\n    const otpResponse = await axiosInstance.post(\"/auth/verify-otp\", {\n      email,\n      otpEntered: otp\n    });\n    if (otpResponse.data.message === \"OTP verified successfully.\") {\n      // Proceed to reset password after successful OTP verification\n      const resetResponse = await axiosInstance.post(\"/auth/reset-password\", {\n        email,\n        newPassword\n      });\n      return resetResponse.data;\n    }\n    throw new Error(\"OTP verification failed\");\n  } catch (error) {\n    throw error.response ? error.response.data : \"An error occurred while resetting the password\";\n  }\n};\n\n// API call to verify OTP for login\nexport const verifyOtp = async (email, otp) => {\n  try {\n    const response = await axiosInstance.post(\"/auth/verify-otp\", {\n      email,\n      otpEntered: otp\n    });\n    return response.data;\n  } catch (error) {\n    throw error.response ? error.response.data : \"An error occurred while verifying OTP\";\n  }\n};","map":{"version":3,"names":["axiosInstance","login","email","password","response","post","data","error","signup","name","sendOtpForPasswordReset","verifyOtpAndResetPassword","otp","newPassword","otpResponse","otpEntered","message","resetResponse","Error","verifyOtp"],"sources":["/Users/Rayyan./Desktop/FYP/AtmosMonitor/frontend/src/api.js"],"sourcesContent":["import axiosInstance from \"./utils/axios\";\n\n\n\n// API call for sign-in (login)\nexport const login = async (email, password) => {\n  try {\n    const response = await axiosInstance.post(\"/auth/signin\", { email, password });\n    return response.data;\n  } catch (error) {\n    throw error.response ? error.response.data : \"An error occurred while logging in\";\n  }\n};\n\n// API call for sign-up (register)\nexport const signup = async (name, email, password) => {\n  try {\n    const response = await axiosInstance.post(\"/auth/signup\", { name, email, password });\n    return response.data;\n  } catch (error) {\n    throw error.response ? error.response.data : \"An error occurred during sign-up\";\n  }\n};\n\n// API call for sending OTP for password reset\nexport const sendOtpForPasswordReset = async (email) => {\n  try {\n    const response = await axiosInstance.post(\"/auth/forgot-password\", { email });\n    return response.data;\n  } catch (error) {\n    throw error.response ? error.response.data : \"An error occurred while sending OTP\";\n  }\n};\n\n// API call to verify OTP and reset password\nexport const verifyOtpAndResetPassword = async (email, otp, newPassword) => {\n  try {\n    const otpResponse = await axiosInstance.post(\"/auth/verify-otp\", { email, otpEntered: otp });\n    if (otpResponse.data.message === \"OTP verified successfully.\") {\n      // Proceed to reset password after successful OTP verification\n      const resetResponse = await axiosInstance.post(\"/auth/reset-password\", { email, newPassword });\n      return resetResponse.data;\n    }\n    throw new Error(\"OTP verification failed\");\n  } catch (error) {\n    throw error.response ? error.response.data : \"An error occurred while resetting the password\";\n  }\n};\n\n// API call to verify OTP for login\nexport const verifyOtp = async (email, otp) => {\n  try {\n    const response = await axiosInstance.post(\"/auth/verify-otp\", { email, otpEntered: otp });\n    return response.data;\n  } catch (error) {\n    throw error.response ? error.response.data : \"An error occurred while verifying OTP\";\n  }\n};\n"],"mappings":"AAAA,OAAOA,aAAa,MAAM,eAAe;;AAIzC;AACA,OAAO,MAAMC,KAAK,GAAG,MAAAA,CAAOC,KAAK,EAAEC,QAAQ,KAAK;EAC9C,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMJ,aAAa,CAACK,IAAI,CAAC,cAAc,EAAE;MAAEH,KAAK;MAAEC;IAAS,CAAC,CAAC;IAC9E,OAAOC,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,MAAMA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACE,IAAI,GAAG,oCAAoC;EACnF;AACF,CAAC;;AAED;AACA,OAAO,MAAME,MAAM,GAAG,MAAAA,CAAOC,IAAI,EAAEP,KAAK,EAAEC,QAAQ,KAAK;EACrD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMJ,aAAa,CAACK,IAAI,CAAC,cAAc,EAAE;MAAEI,IAAI;MAAEP,KAAK;MAAEC;IAAS,CAAC,CAAC;IACpF,OAAOC,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,MAAMA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACE,IAAI,GAAG,kCAAkC;EACjF;AACF,CAAC;;AAED;AACA,OAAO,MAAMI,uBAAuB,GAAG,MAAOR,KAAK,IAAK;EACtD,IAAI;IACF,MAAME,QAAQ,GAAG,MAAMJ,aAAa,CAACK,IAAI,CAAC,uBAAuB,EAAE;MAAEH;IAAM,CAAC,CAAC;IAC7E,OAAOE,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,MAAMA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACE,IAAI,GAAG,qCAAqC;EACpF;AACF,CAAC;;AAED;AACA,OAAO,MAAMK,yBAAyB,GAAG,MAAAA,CAAOT,KAAK,EAAEU,GAAG,EAAEC,WAAW,KAAK;EAC1E,IAAI;IACF,MAAMC,WAAW,GAAG,MAAMd,aAAa,CAACK,IAAI,CAAC,kBAAkB,EAAE;MAAEH,KAAK;MAAEa,UAAU,EAAEH;IAAI,CAAC,CAAC;IAC5F,IAAIE,WAAW,CAACR,IAAI,CAACU,OAAO,KAAK,4BAA4B,EAAE;MAC7D;MACA,MAAMC,aAAa,GAAG,MAAMjB,aAAa,CAACK,IAAI,CAAC,sBAAsB,EAAE;QAAEH,KAAK;QAAEW;MAAY,CAAC,CAAC;MAC9F,OAAOI,aAAa,CAACX,IAAI;IAC3B;IACA,MAAM,IAAIY,KAAK,CAAC,yBAAyB,CAAC;EAC5C,CAAC,CAAC,OAAOX,KAAK,EAAE;IACd,MAAMA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACE,IAAI,GAAG,gDAAgD;EAC/F;AACF,CAAC;;AAED;AACA,OAAO,MAAMa,SAAS,GAAG,MAAAA,CAAOjB,KAAK,EAAEU,GAAG,KAAK;EAC7C,IAAI;IACF,MAAMR,QAAQ,GAAG,MAAMJ,aAAa,CAACK,IAAI,CAAC,kBAAkB,EAAE;MAAEH,KAAK;MAAEa,UAAU,EAAEH;IAAI,CAAC,CAAC;IACzF,OAAOR,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,MAAMA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACE,IAAI,GAAG,uCAAuC;EACtF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}